<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Your First Script</title><link rel="stylesheet" href="apousermanual.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><link rel="start" href="index.html" title="Apophysis User Manual"><link rel="up" href="ch11.html" title="Chapter 11. Scripting and Animation"><link rel="prev" href="ch11.html" title="Chapter 11. Scripting and Animation"><link rel="next" href="ch11s03.html" title="Advanced Animation"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Your First Script</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch11.html">Prev</a> </td><th width="60%" align="center">Chapter 11. Scripting and Animation</th><td width="20%" align="right"> <a accesskey="n" href="ch11s03.html">Next</a></td></tr></table><hr></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id2813008"></a>Your First Script</h2></div></div></div><p>  So, where do we start?   </p><p> Start by opening the scripting window.  Click this button 
<span class="inlinemediaobject"><img src="scripts/images/script.jpg"></span>
to open it.  You will see this editor.  There will be a script in the window.  Highlight all of the text in the window, either using the mouse or using Ctrl-a, and delete it.  Then, copy and paste the following script script into following window window:  </p><code class="code">
<pre class="screen"> 
{ Rotate the Julian triangle continuously } 
 
{ Hit any key to stop } 
 
Flame.SampleDensity := 1; 
 
while not Stopped do 
 
begin 
 
SetActiveTransform(1); 
 
  Rotate(-10); 
 
Preview; 
 
end; 
 
UpdateFlame := False;
</pre> 
</code><p> 
</p><div class="mediaobject"><img src="scripts/images/scriptwin.jpg"></div><p>
 </p><p> All right.  Click play 
<span class="inlinemediaobject"><img src="scripts/images/play.jpg"></span>
 and see what happens!  The gears start rotating.  Cool! All right.  Hit stop.  
<span class="inlinemediaobject"><img src="scripts/images/stop.jpg"></span>
 So, that is a script. Right now it would probably be a good idea to save your script.  
<span class="inlinemediaobject"><img src="scripts/images/save.jpg"></span>
 I will now explain what each part of the script means.    </p><code class="code">
<pre class="screen">
{ Rotate the Julian triangle continuously }
{ Hit any key to stop }
</pre>
</code><p>The stuff between the brackets are called comments.  They generally explain what the script is about.  In the editor, they show up blue, and don't affect how the script runs.  Comments can also be added by adding two backslashes, like this //, in front of a line.   </p><p> Now, the next line.  </p><code class="code">
<pre class="screen">Flame.SampleDensity := 1; </pre></code><p>This tells Apophysis at what quality to render the animation.  So what does that mean?  Setting the <code class="code"> Flame.SampleDenisty </code> to a low number, like one, will make the quality very bad.  That's why the animation in the preview window is so grainy.  However, this makes it easy for the preview window to render the animation quickly.  If you have a higher <code class="code">Flame.SampleDensity </code>, like, say, 300, the flame takes FOREVER to render, and you might get a new flame every 10 seconds.  So, stick with 1 for right now.   </p><p>Now, lets look at the next section:   </p><code class="code">
<pre class="screen">
while not Stopped do 
 
begin 
 
SetActiveTransform(1); 
 
 Rotate(-10); 
 
Preview; 
 
end; 
 
</pre>
 </code><p> This is called a while loop.  What does it mean?  It means that until a certain action is performed, all of the code between the begin and end keywords will keep repeating.  In this case, the code between the begin and end keywords will keep repeating until the stop button is pushed or until the preview window is closed.  </p><p>So, let's take a look at the code between those <code class="code"> begin </code> and <code class="code"> end </code> keywords, shall we?   </p><code class="code"> <pre class="screen">SetActiveTransform(1);</pre></code><p>What does this line do?  Well, it selects one of the transforms in the transform editor.  In this case, it selects transform 2.  Confused yet?  Hah.  I shall explain, never fear.  You know how most people start counting things from 1, and go, 1, 2, 3?  Well, computer scientists, in their infinite wisdom, decided that counting things from one was stupid.  So computer scientists start counting things from zero.  So if you have three transforms, called 1, 2, 3, a computer scientist would call them transforms 0, 1, 2.  The <code class="code"> SetActiveTransform</code> assumes that you are a computer scientist, and so, if you want to select the first transform, you would have to type <code class="code"> SetActiveTransform(0);</code>;  Got that?  Good.   </p><code class="code"><pre class="screen">Rotate(-10);</pre></code><p> Onward to rotation!  This is, in fact, the only command that actually does anything.  What does it do?  It rotates your triangle by degrees.  There are 360 degrees in a circle.  Saying <code class="code">Rotate(10);</code>  tells Apophysis to rotate the transform that you made active using the SetActiveTransform command.  In this case, the transform would rotate 10 degrees counterclockwise.  In order to rotate it clockwise, set it to a negative number, like 10.  </p><code class="code"> <pre class="screen">preview;</pre></code><p> So, what doe <code class="code"> preview; </code>  mean?  Remember that little window that popped up when we started the animation?  That window is the preview window- it shows you what's actually going on.  The preview command tells Apophysis to update that window, and to show what happened to the fractal after we did that rotation.  </p><p> And that's it for the stuff inside the for loop.  This is a very simple animation.  </p><code class="code"><pre class="screen">UpdateFlame := False;</pre></code><p> And now for the last line!  This is a very useful option.  Without this line, the fractal in your main window would change into whatever fractal the script turned it into at the end of the animation.  However, if you just want to see the animation without changing the parameters of the original fractal, put this line in at the end of your script.  </p><p> And that, ladies and gentlemen, is a very brief introduction to scripting.  The clock's gears now rotate.  But what about it's hands?  </p><p> Add these four lines into the script, after the first rotation but before the preview.  </p><code class="code"> 
<pre class="screen"> 
 SetActiveTransform(3); 
 
  Rotate(-60);
 
  SetActiveTransform(4); 
 
  Rotate(-1); 
 
</pre>
</code><p> Go ahead and push the play button, and enjoy your clock!  Tada!</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch11.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch11.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch11s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 11. Scripting and Animation </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Advanced Animation</td></tr></table></div></body></html>
